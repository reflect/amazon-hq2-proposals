<!DOCTYPE html>
<html>
  <head>
    <title>Amazon HQ2 Proposals</title>

    <meta charset="UTF-8">

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <!-- /Bootstrap JS and dependencies -->

    <!-- Our CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="./css/amazon-hq2-propsals.css" rel="stylesheet" />
    <!-- /Our CSS -->

    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <!-- /Leaflet -->

    <script>
/**
 * To add a new proposal to the view, simply create a new object that contains
 * the location, the country, the lat/long of the location, and a link to the
 * proposal.
 *
 * Example:
 *
 *   {
 *     "region": "Portland",
 *     "state": "Oregon",
 *     "country": "United States",
 *     "loc": [45.5231, -122.6765],
 *     "pdf": "https://greaterportlandinc.com/assets/documents/greaterportlandinc-amazonhq2.pdf",
 *     "video": "",
 *     "website": "",
 *     "locations": ""
 *   }
 *
 */
window.PROPOSALS = [
  {
    "region": "Atlanta",
    "state": "Georgia",
    "country": "United States",
    "loc": [33.748995, -84.387982],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=LpvlxV8PUDA",
    "website": "",
    "locations": ""
  },
  {
    "region": "Boston",
    "state": "Massachusetts",
    "country": "United States",
    "loc": [42.360083, -71.05888],
    "pdf": "https://www.bostonglobe.com/metro/2017/10/19/read-boston-full-bid-amazon/gmlG1jBfH2aGTftHNcHq0M/story.html",
    "video": "https://www.youtube.com/watch?v=GryWPJYtVMY",
    "website": "https://amazon.boston.gov/",
    "locations": ""
  },
  {
    "region": "Buffalo - Rochester",
    "state": "New York",
    "country": "United States",
    "loc": [42.886447, -78.878369],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=ywdttTRP7uA",
    "website": "",
    "locations": ""
  },
  {
    "region": "Calgary",
    "state": "Alberta",
    "country": "Canada",
    "loc": [51.0486, -114.0708],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=avsRTyz30es",
    "website": "",
    "locations": ""
  },
  {
    "region": "Camden",
    "state": "New Jersey",
    "country": "United States",
    "loc": [39.925946, -75.11962],
    "pdf": "https://www.dropbox.com/s/21ax2p1vq9p5haf/Amazon_HQ2_101017.pdf",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Charlotte",
    "state": "North Carolina",
    "country": "United States",
    "loc": [35.227087, -80.843127],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=oJNMSNsE31U",
    "website": "",
    "locations": ""
  },
  {
    "region": "Chicago",
    "state": "Illinois",
    "country": "United States",
    "loc": [41.878114, -87.629798],
    "pdf": "",
    "video": "",
    "website": "",
    "locations": "https://chicago.curbed.com/2017/10/23/16512138/chicago-amazon-hq2-bid"
  },
  {
    "region": "Chula Vista",
    "state": "California",
    "country": "United States",
    "loc": [32.6401, -117.0842],
    "pdf": "https://www.amazonhqmillenia.com/docs/ChulaVistaAmazonBook.pdf",
    "video": "https://www.amazonhqmillenia.com/",
    "website": "",
    "locations": "https://www.amazonhqmillenia.com/docs/AmazonHQ2Presentation.pdf"
  },
  {
    "region": "Corazón",
    "state": "Guayama",
    "country": "Puerto Rico",
    "loc": [17.97417, -66.11000],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=pktsqyw1rjM",
    "website": "",
    "locations": ""
  },
  {
    "region": "Dallas - Fort Worth",
    "state": "Texas",
    "country": "United States",
    "loc": [32.776664, -96.796988],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=BQ2qtQ4OS2k",
    "website": "",
    "locations": "https://media.bizj.us/view/img/10645248/dfwamazonmap.pdf"
  },
  {
    "region": "Danbury",
    "state": "Connecticut",
    "country": "United States",
    "loc": [41.394817, -73.454011],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=rN6uy4MmQic",
    "website": "",
    "locations": ""
  },
  {
    "region": "Detroit",
    "state": "Michigan",
    "country": "United States",
    "loc": [42.331427, -83.045754],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=DO4J_PC1b5M",
    "website": "",
    "locations": ""
  },
  {
    "region": "Fairplex",
    "state": "California",
    "country": "United States",
    "loc": [34.08098, -117.765195],
    "pdf": "",
    "video": "https://www.youtube.com/watch?time_continue=2&v=MY3xUnA3uEo",
    "website": "http://www.fairplex.com/aboutus/ceo/amazon-polyplex",
    "locations": ""
  },
  {
    "region": "Fall River",
    "state": "Massachusetts",
    "country": "United States",
    "loc": [41.701491, -71.155045],
    "pdf": "https://assets.documentcloud.org/documents/4113118/Fall-River-Amazon-proposal.pdf",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Fresno",
    "state": "California",
    "country": "United States",
    "loc": [36.746842, -119.772587],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=23cqrCa-t7s",
    "website": "",
    "locations": ""
  },
  {
    "region": "Frisco",
    "state": "Texas",
    "country": "United States",
    "loc": [33.150674, -96.823612],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=BHztUQIyLAA",
    "website": "",
    "locations": ""
  },
  {
    "region": "Greensboro",
    "state": "North Carolina",
    "country": "United States",
    "loc": [36.072635, -79.791975],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=QD5vZNWAdiE",
    "website": "",
    "locations": ""
  },
  {
    "region": "Huntington Beach",
    "state": "California",
    "country": "United States",
    "loc": [33.659484, -117.998803],
    "pdf": "",
    "video": "https://go.twitch.tv/videos/183135017",
    "website": "http://www.huntingtonbeachca.gov/business/economic-development/amazon-coast/",
    "locations": ""
  },
  {
    "region": "Irvine",
    "state": "California",
    "country": "United States",
    "loc": [33.684567, -117.826505],
    "pdf": "https://www.oneclickhq2.com/media/2733/hq2_irvine_proposal_final_v2.pdf",
    "video": "https://www.youtube.com/watch?v=PNTrI7-1VfM",
    "website": "http://www.cityofirvine.org/news-media/news-article/amazon-hq2-bid",
    "locations": ""
  },
  {
    "region": "Las Vegas",
    "state": "Nevada",
    "country": "United States",
    "loc": [36.169941, -115.13983],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=vPhlqjYYRnA",
    "website": "",
    "locations": ""
  },
  {
    "region": "Leominster",
    "state": "Massachusetts",
    "country": "United States",
    "loc": [42.525091, -71.759794],
    "pdf": "http://www.documentcloud.org/documents/4113472-Leominster-Amazon-proposal.html",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Los Angeles",
    "state": "California",
    "country": "United States",
    "loc": [34.052234, -118.243685],
    "pdf": "",
    "video": "",
    "website": "",
    "locations": "https://www.dmagazine.com/wp-content/uploads/2017/09/Amazon-HQ2_Expo-Park_Proposal.pdf"
  },
  {
    "region": "Lower Merrimack Valley",
    "state": "Massachusetts",
    "country": "United States",
    "loc": [42.84139, -70.863098],
    "pdf": "https://drive.google.com/file/d/0BzzUaLZFJDl3R3cxZ0tKZmNKZlE/view",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Marlborough",
    "state": "Massachusetts",
    "country": "United States",
    "loc": [42.345927, -71.552287],
    "pdf": "https://www.documentcloud.org/documents/4112463-Marlborough-area-Amazon-proposal.html",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Milam County",
    "state": "Texas",
    "country": "United States",
    "loc": [30.809264, -96.979501],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=9brd4hdhnHA",
    "website": "",
    "locations": ""
  },
  {
    "region": "New Bedford",
    "state": "Massachusetts",
    "country": "United States",
    "loc": [41.636215, -70.934205],
    "pdf": "http://static.djlmgdigital.com.s3.amazonaws.com/nbt/southcoasttoday/graphics/pdf/NewBedford_AmazonH2Q_FINAL_opt.pdf",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "New York City",
    "state": "New York",
    "country": "United States",
    "loc": [40.712775, -74.005973],
    "pdf": "https://www.dropbox.com/s/omgt5ywmgzundkv/Amazon%20Deck%20for%20Press%20-%2010.18.2017.pdf?dl=0&utm_source=Press+Release&utm_campaign=5db591fe9c-2017_10_18_NYC_Submits_Amazon_Proposal_PA&utm_medium=email&utm_term=0_b804b7ba34-5db591fe9c-102476565",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Newark",
    "state": "New Jersey",
    "country": "United States",
    "loc": [40.731262, -74.170041],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=Gj43fNo4Xes",
    "website": "",
    "locations": ""
  },
  {
    "region": "Philadelphia",
    "state": "Pennsylvania",
    "country": "United States",
    "loc": [39.952584, -75.165222],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=feFPZXgF9ts",
    "website": "https://public.philadelphiadelivers.com/",
    "locations": ""
  },
  {
    "region": "Pittsburgh",
    "state": "Pennsylvania",
    "country": "United States",
    "loc": [40.4406, -79.9959],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=XEw2Ky5XxDM",
    "website": "https://hqpittsburgh.com/",
    "locations": ""
  },
  {
    "region": "Portland",
    "state": "Oregon",
    "country": "United States",
    "loc": [45.5231, -122.6765],
    "pdf": "https://greaterportlandinc.com/assets/documents/greaterportlandinc-amazonhq2.pdf",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "San Jose",
    "state": "California",
    "country": "United States",
    "loc": [37.338208, -121.886329],
    "pdf": "http://news.theregistrysf.com/wp-content/uploads/2017/10/San-Jose-oed-booklet-amazonrfp-final-digital.pdf",
    "video": "",
    "website": "http://sjeconomy.com/san-jose-best-fit-amazon-hq2/",
    "locations": ""
  },
  {
    "region": "Somerville",
    "state": "Massachusetts",
    "country": "United States",
    "loc": [42.387597, -71.099497],
    "pdf": "https://www.scribd.com/document/362151828/Amazon-on-the-T-Somerville-Ma-Digital#from_embed",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Southfield",
    "state": "Missouri",
    "country": "United States",
    "loc": [42.387597, -71.099497],
    "pdf": "",
    "video": "",
    "website": "https://www.cityofsouthfield.com/amazon/tabid/1145/Default.aspx",
    "locations": ""
  },
  {
    "region": "Tampa Bay - St Petersburg",
    "state": "Florida",
    "country": "United States",
    "loc": [27.751828, -82.626734],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=qC9bPGLyoQ0&t=11s",
    "website": "",
    "locations": ""
  },
  {
    "region": "The Bay",
    "state": "California",
    "country": "United States",
    "loc": [37.827178, -122.291308],
    "pdf": "http://documents.bayareacouncil.org/amazonbid.pdf",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Toledo",
    "state": "Ohio",
    "country": "United States",
    "loc": [41.663938, -83.555212],
    "pdf": "https://www.toledoblade.com/attachment/2017/10/19/Toledo-Amazon-HQ2-proposal.pdf",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Toronto",
    "state": "Ontario",
    "country": "Canada",
    "loc": [43.6532, -79.3832],
    "pdf": "https://s3.ca-central-1.amazonaws.com/torontoglobal/TorontoRegionResponsetoAmazonHQ2RFP_PD.pdf",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Washington, DC",
    "state": "District of Columbia",
    "country": "United States",
    "loc": [38.907192, -77.036871],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=7TG_Ror5LRE",
    "website": "",
    "locations": "http://www.alexawhydc.com/"
  },
  {
    "region": "Weymouth",
    "state": "Massachusetts",
    "country": "United States",
    "loc": [42.218072, -70.941036],
    "pdf": "http://www.documentcloud.org/documents/4113430-Weymouth-area-Amazon-proposal.html",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "Worcester",
    "state": "Massachusetts",
    "country": "United States",
    "loc": [42.262593, -71.802293],
    "pdf": "https://www.scribd.com/document/361934956/Worcester-s-proposal-to-bring-Amazon-HQ2-to-the-city#from_embed",
    "video": "https://www.youtube.com/watch?v=WtPX_LpTQ1c",
    "website": "",
    "locations": ""
  },
  {
    "region": "",
    "state": "Connecticut",
    "country": "United States",
    "loc": [41.603221, -73.087749],
    "pdf": "https://ctisprime.com/wp-content/uploads/2017/10/RFP_AmazonHQ2_Connecticut_101817_lr.pdf",
    "video": "",
    "website": "https://ctisprime.com/",
    "locations": ""
  },
  {
    "region": "",
    "state": "Delaware",
    "country": "United States",
    "loc": [38.910833, -75.52767],
    "pdf": "",
    "video": "https://www.youtube.com/watch?v=jquiOunB7To",
    "website": "https://www.wilmingtonde.gov/Home/Components/News/News/1650/225",
    "locations": ""
  },
  {
    "region": "",
    "state": "Massachusetts",
    "country": "United States",
    "loc": [42.407211, -71.382437],
    "pdf": "https://www.mass.gov/hq2/",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "",
    "state": "Missouri",
    "country": "United States",
    "loc": [37.964253, -91.831833],
    "pdf": "https://bloximages.newyork1.vip.townnews.com/stltoday.com/content/tncms/assets/v3/editorial/f/ec/fec6cbc1-bd89-566c-818d-2efc3bf13c5c/59e8cd6ce8364.pdf.pdf",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "",
    "state": "New Hampshire",
    "country": "United States",
    "loc": [43.193852, -71.572395],
    "pdf": "http://blog.nheconomy.com/wp-content/uploads/2017/10/NH_AmazonHQ2.pdf",
    "video": "",
    "website": "",
    "locations": ""
  },
  {
    "region": "",
    "state": "Pennsylvania",
    "country": "United States",
    "loc": [41.203322, -77.194525],
    "pdf": "",
    "video": "",
    "website": "https://www.pa.gov/guides/amazon-in-pa/#letter",
    "locations": ""
  },
  {
    "region": "",
    "state": "Rhode Island",
    "country": "United States",
    "loc": [41.580095, -71.477429],
    "pdf": "",
    "video": "https://vimeo.com/238950473/9701bd8f43",
    "website": "https://www.riforamazon.us/",
    "locations": ""
  }
];
    </script>
  </head>

  <body lang="en">

    <nav class="navbar">
      <a class="navbar-brand" href="#">Amazon HQ2 Proposals</a>

      <div class="collapse navbar-collapse">
        <!--
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
          </ul>
        -->
      </div>
    </nav>

    <div class="jumbotron">
      <div class="container">
        <div class="info">
          <p><a target="_blank" href="https://github.com/reflect/amazon-hq2-proposals">Contribute</a> to this open source project. Work with <a target="_blank" href="https://reflect.io">our team</a> to extract meaning from this culturally poignant and historic bid.</p>
        </div>
        <div id="my-map"></div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <table class="table table-hover" id="proposals">
          <thead class="thead-inverse">
            <tr>
              <th>City/Region</th>
              <th>State</th>
              <th>Country</th>
              <th></th>
            </tr>
          </thead>

          <tbody id="proposals-tbody">
          </tbody>
        </table>
      </div>
     </div>

     <footer class="footer">
      <div class="container">
        <span class="text-muted">Authors and contributors make no claim of ownership over any content linked here. <a href="https://github.com/reflect/amazon-hq2-proposals">Fork us on Github</a>.</span>
      </div>
    </footer>
  </body>

  <script async>
var slug = function(str) {
  return str.toLowerCase().replace(/[^a-zA-Z0-0]/g, '-').replace(/-+/, '-');
}

var createId = function(prop) {
  return slug(prop.country) + '-' + slug(prop.region);
}

var createLink = function(fa, href, title) {
  var span = $('<span class="resource" />'),
      link = $('<a class="btn btn-sm" target="_blank" />'),
      icon = $('<i class="fa" aria-hidden="true" />');

  icon.addClass(fa);
  link.append(icon);
  span.append(link);
  link.attr('title', title);

  if (href != "") {
    link.addClass('btn-outline-primary');
    link.attr("href", href)
  } else {
    link.addClass('btn-outline-secondary disabled');
  }

  return span;
}

function renderPropsals(tbody, props) {
  var len = props.length,
      $tbody = $(tbody);

  // Stupp for the map.
  var mymap = L.map('my-map').setView([39.50,-98.35], 4);

  L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18,
    id: 'mapbox.streets',
    accessToken: 'pk.eyJ1IjoiYnJhZGhlIiwiYSI6ImNpamZ5YzNpYjAwMzJ1NG01OTh1NmYwZGkifQ.xnt-BjEXZZ5vw3gryLfMpA'
  }).addTo(mymap);

  for (var i = 0; i < len; i++) {
    var prop = props[i],
        $tr = $('<tr/>'),
        $regionTd = $('<td/>'),
        $stateTd = $('<td/>'),
        $countryTd = $('<td/>'),
        $linkTd = $('<td align="right"/>');

    $regionTd.text(prop.region);
    $stateTd.text(prop.state);
    $countryTd.text(prop.country);
    $linkTd.append(createLink('fa-file-pdf-o', prop.pdf, 'Presentation'));
    $linkTd.append(createLink('fa-video-camera', prop.video, 'Video'));
    $linkTd.append(createLink('fa-location-arrow', prop.website, 'Website'));
    $linkTd.append(createLink('fa-map-marker', prop.locations, 'Proposed Locations'));

    var id = createId(prop);
    $tr.attr('id', id);
    $tr.append($regionTd);
    $tr.append($stateTd);
    $tr.append($countryTd);
    $tr.append($linkTd);

    $tbody.append($tr);

    var marker = L.marker(prop.loc).addTo(mymap);

    (function(index){
      marker.on('click', function() {
        window.location.hash = index;

        // Highlight this row in the table too
        $('#'+index).siblings('.table-active').removeClass('table-active');
        $('#'+index).addClass('table-active');
      });
    })(id);
  }
}

$(function() {
  renderPropsals(document.getElementById('proposals-tbody'), window.PROPOSALS);
});
  </script>
</html>
